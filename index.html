<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halifax JB 803 Crew Database</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border: 3px solid transparent;
            background-clip: padding-box;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .stat-card.documents { border-color: #e74c3c; }
        .stat-card.letters { border-color: #3498db; }
        .stat-card.photos { border-color: #2ecc71; }
        .stat-card.forms { border-color: #f39c12; }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .documents .stat-number { color: #e74c3c; }
        .letters .stat-number { color: #3498db; }
        .photos .stat-number { color: #2ecc71; }
        .forms .stat-number { color: #f39c12; }

        .controls {
            padding: 30px;
            background: white;
            border-bottom: 2px solid #ecf0f1;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            border: 2px solid #bdc3c7;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.2);
        }

        .search-box::before {
            content: 'üîç';
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 20px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-btn:hover, .filter-btn.active {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 25px;
            padding: 30px;
            background: #f8f9fa;
        }

        .document-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            border-left: 5px solid #3498db;
            cursor: pointer;
        }

        .document-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .document-card.letter { border-left-color: #3498db; }
        .document-card.telegram { border-left-color: #e74c3c; }
        .document-card.form { border-left-color: #f39c12; }
        .document-card.photo { border-left-color: #2ecc71; }
        .document-card.record { border-left-color: #9b59b6; }

        .card-header {
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-bottom: 1px solid #dee2e6;
        }

        .card-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .card-date {
            color: #7f8c8d;
            font-size: 0.9em;
            font-weight: 500;
        }

        .card-body {
            padding: 20px;
        }

        .card-details {
            margin-bottom: 15px;
        }

        .detail-row {
            display: flex;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .detail-label {
            font-weight: bold;
            min-width: 80px;
            color: #34495e;
        }

        .detail-value {
            color: #2c3e50;
        }

        .card-summary {
            color: #5d6d7e;
            font-style: italic;
            line-height: 1.5;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .export-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(46, 204, 113, 0.3);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: none;
            border-radius: 15px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        @media (max-width: 768px) {
            .documents-grid {
                grid-template-columns: 1fr;
                padding: 20px;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                min-width: auto;
            }

            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Halifax JB 803 Crew Database</h1>
            <p>WOII Complete Archive ‚Ä¢ Sgt Hannam (1383305) ‚Ä¢ Sgt Crawford (634710) ‚Ä¢ Sgt Scarff (R.95040) ‚Ä¢ RAF Squadron 77 ‚Ä¢ 1 Mei 1943</p>
        </div>

        <div class="stats">
            <div class="stat-card documents">
                <div class="stat-number">52</div>
                <div>Totaal Documenten</div>
            </div>
            <div class="stat-card letters">
                <div class="stat-number">20</div>
                <div>Brieven & Telegrammen</div>
            </div>
            <div class="stat-card photos">
                <div class="stat-number">4</div>
                <div>Foto's & Memorialen</div>
            </div>
            <div class="stat-card forms">
                <div class="stat-number">28</div>
                <div>Offici√´le Formulieren</div>
            </div>
        </div>

        <div class="controls">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Zoek in documenten... (naam, datum, locatie, inhoud)">
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">Alles</button>
                <button class="filter-btn" data-filter="letter">Brieven</button>
                <button class="filter-btn" data-filter="telegram">Telegrammen</button>
                <button class="filter-btn" data-filter="form">Formulieren</button>
                <button class="filter-btn" data-filter="photo">Foto's</button>
            </div>
            <button class="export-btn" onclick="exportToCSV()">üì• Export naar CSV</button>
        </div>

        <div class="documents-grid" id="documentsGrid">
            <!-- Documents worden hier gegenereerd door JavaScript -->
        </div>
    </div>

    <!-- Modal for document details -->
    <div id="documentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        const documents = [
            // HANNAM DOCUMENTS
            {
                id: 1,
                type: 'letter',
                title: 'Offici√´le Mededeling Overlijden',
                date: '16 februari 1948',
                from: 'A.W. Livingston',
                to: 'Mrs. Bernadette Sammarco',
                location: '2 Seville Street',
                reference: 'P.403627/43/S.14 Cas.B2.',
                summary: 'Offici√´le bevestiging dat Sergeant Leon Hannam (1383305) begraven ligt in Muiden General Cemetery, Holland. Vader werd in mei 1944 voor het eerst op de hoogte gesteld.',
                keywords: 'overlijden, begraven, muiden, holland, vader, mei 1944'
            },
            {
                id: 2,
                type: 'letter',
                title: 'Brief van Bernadette aan Sirs',
                date: '13 december 1947',
                from: 'Bernadette Sammarco',
                to: 'Sirs',
                location: '41 Theberton Street, Islington',
                summary: 'Bernadette vraagt om hulp bij het vinden van informatie over haar vriend Leon Hannam. Ze schrijft dat ze weet dat hij 20 jaar oud was en vermist wordt sinds 1 mei 1943.',
                keywords: 'bernadette, vriend, vermist, 20 jaar oud, 1 mei 1943'
            },
            {
                id: 3,
                type: 'letter',
                title: 'Air Ministry Response',
                date: '6 januari 1947',
                from: 'J.N. Stacey, Squadron Leader',
                to: 'Mrs. Bernadette Sammarco',
                reference: 'P-7/8-41A',
                summary: 'Brief waarin wordt uitgelegd dat Leon Hannam een Engelsman was in de Royal Air Force, vliegend in een Royal Air Force aircraft. De brief werd doorgestuurd naar de juiste afdeling.',
                keywords: 'royal air force, engelsman, aircraft, doorgestuurd'
            },
            {
                id: 4,
                type: 'form',
                title: 'Air Ministry Minute Sheet',
                date: '3 juni 1943',
                reference: 'P.403627/43',
                summary: 'Interne notitie betreffende Sgt Leon Hannam. Vermeldt correspondentie en mogelijke verdere actie.',
                keywords: 'air ministry, interne notitie, correspondentie'
            },
            {
                id: 5,
                type: 'record',
                title: 'RAF Service Record',
                date: '5 maart 1943',
                servicenumber: '1383305',
                name: 'HANNAM Leon',
                rank: 'SGT',
                unit: 'R.A.F.(V.R.)',
                details: '775920N 1383305',
                location: 'MUIDEN GEN',
                burial: 'HOLLAND 89',
                authority: 'R.4 Cas.1130/267 SSP/4708',
                nextofkin: 'L. HANNAM ESQ. 33 PARKFIELD STREET ISLINGTON LONDON N.1',
                keywords: 'service record, muiden, holland, parkfield street'
            },
            {
                id: 6,
                type: 'photo',
                title: 'Begraafplaats Foto 1',
                date: 'Onbekend',
                summary: 'Zwart-wit foto van een begraafplaats met graven en bloemen, mogelijk Muiden General Cemetery waar Leon Hannam begraven ligt.',
                keywords: 'begraafplaats, graven, bloemen, muiden'
            },
            {
                id: 7,
                type: 'photo',
                title: 'Begraafplaats Foto 2',
                date: 'Onbekend',
                summary: 'Tweede zwart-wit foto van de begraafplaats, toont meer grafstenen en de omgeving.',
                keywords: 'begraafplaats, grafstenen, omgeving'
            },
            {
                id: 8,
                type: 'record',
                title: 'German POW Record - Hannam',
                date: '8 mei 1943',
                summary: 'Duits krijgsgevangenen document (Nachla√üsachen des Sgt. Hannam) met persoonlijke bezittingen lijst. Bevat stempel "LUFTGAUKOMMANDO HOLLAND" gedateerd 8 MEI 1943.',
                keywords: 'duitse document, krijgsgevangene, persoonlijke bezittingen, luftgaukommando, holland'
            },
            {
                id: 9,
                type: 'record',
                title: 'German POW Record - Crawford',
                date: 'Mei 1943',
                summary: 'Vergelijkbaar Duits document voor Sgt. Crawford, toont lijst van persoonlijke bezittingen van krijgsgevangenen.',
                keywords: 'duitse document, crawford, persoonlijke bezittingen'
            },
            {
                id: 10,
                type: 'form',
                title: 'German Prison Camp Record',
                date: '4 mei 1943',
                prisoner: 'Hannam L.',
                camp: 'Gefangenenlager: 5715',
                nationality: 'Engla-e',
                unit: 'Maschine Halifax',
                material_number: '1383315',
                summary: 'Duits gevangenenkamp formulier voor gevangene Hannam L., nationaliteit Engels, vliegtuig type Halifax.',
                keywords: 'gevangenenkamp, halifax, engels, maschine'
            },
            {
                id: 11,
                type: 'letter',
                title: 'Casualty Branch Notification',
                date: '22 mei 1944',
                from: 'S.W. Wright, Director of Personal Services',
                to: 'L. Hannam Esq.',
                reference: 'P.403627/43/S.4.3.4',
                location: '33 Parkfield Street, Islington',
                summary: 'Brief aan vader van Leon Hannam waarin wordt meegedeeld dat zijn zoon Sergeant L. Hannam (RAF) begraven ligt in General Cemetery, Muiden, Holland. Graven genummerd 80 tot 85 in rij 1.',
                keywords: 'casualty branch, vader, muiden cemetery, graven 80-85'
            },
            {
                id: 12,
                type: 'telegram',
                title: 'Missing Believed Killed Telegram',
                date: '18 juni 1943',
                to: 'L. HANNAM ESQ, 33 Parkfield St, Islington London N1',
                from: 'Air Ministry Kingsway',
                summary: 'Telegram met mededeling dat Sergeant Leon Hannam wordt vermist en vermoedelijk omgekomen is op 1/5/43 tijdens luchtoperaties. Uitdrukking van medeleven van de Air Council.',
                keywords: 'telegram, missing believed killed, luchtoperaties, air council'
            },
            {
                id: 13,
                type: 'letter',
                title: 'Air Council Expression of Regret',
                date: '26 mei 1943',
                from: 'Casualty Branch',
                to: 'L. Hannam Esq.',
                location: '33 Parkfield Street, Islington',
                summary: 'Brief waarin de Air Council hun spijt uitdrukt over het feit dat Sergeant Leon Hannam vermist wordt na luchtoperaties op 30 april/1 mei 1943. Halifax aircraft waarin hij vloog als navigator/air bomber kwam niet terug.',
                keywords: 'air council, halifax aircraft, navigator, air bomber, 30 april'
            },
            {
                id: 14,
                type: 'letter',
                title: 'Confirmation of Death',
                date: '1 oktober 1943',
                from: 'Director of Personal Services',
                to: 'L. Hannam Esq.',
                reference: 'P.403627/43/S.4.3.3',
                summary: 'Bevestiging ontvangen van offici√´le Duitse bron dat Sergeant L. Hannam (1383305) is overleden. Details over plaats van begraving nog niet verstrekt, maar zullen later worden meegedeeld.',
                keywords: 'bevestiging overlijden, duitse bron, plaats begraving'
            },
            {
                id: 15,
                type: 'form',
                title: 'Casualty Action Sheet',
                date: 'Meerdere data 1943-1945',
                reference: '503627',
                summary: 'Administratief formulier dat de verschillende stappen bijhoudt in de casualty procedure: van vermist rapport tot bevestiging overlijden en notification aan familie.',
                keywords: 'casualty procedure, administratie, vermist rapport'
            },
            {
                id: 16,
                type: 'record',
                title: 'Analysis from Circumstantial Reports',
                date: '1 mei 1943',
                aircraft: 'Halifax JB 803',
                reference: 'P.403627/4',
                summary: 'Het vliegtuig vertrok op de nacht van 30 april/1 mei 1943 voor operationele sortie. Vanaf vertrek van de basis is niets meer gehoord van het vliegtuig. Alle opvarenden vermist.',
                keywords: 'halifax JB 803, operationele sortie, alle opvarenden vermist'
            },
            {
                id: 17,
                type: 'telegram',
                title: 'Records Gloucester Communication',
                date: '3 mei 1943',
                from: 'Records Gloucester',
                to: 'Air Ministry Kingsway',
                reference: '1669/G2B/2441',
                details: 'HANNAM (B) LEON, 1383305, SGT, NAV/A/B, 31/DEC/40, 7/NOV/20, ISLINGTON, 77 SQUADRON, RAFVR, FATHER L HANNAM ESQ 33 PARKFIELD STREET ISLINGTON LONDON N1',
                summary: 'Telegram met volledige persoonlijke details van Leon Hannam: geboortedatum 7 november 1920, dienst vanaf 31 december 1940, 77 Squadron, navigator/air bomber.',
                keywords: 'persoonlijke details, 7 november 1920, 31 december 1940, navigator'
            },
            // CRAWFORD DOCUMENTS
            {
                id: 18,
                type: 'record',
                title: 'RAF Service Record - Crawford',
                date: '1 mei 1943',
                servicenumber: '634710',
                name: 'CRAWFORD Ian Douglas',
                rank: 'SGT',
                unit: '77 Squadron',
                location: 'MUIDEN GEN, HOLLAND',
                burial: 'Grave 80',
                nextofkin: 'J. Crawford Esq, Selma, Taynuilt, Argyll, Scotland',
                summary: 'RAF service record voor Sergeant Ian Douglas Crawford (634710), 77 Squadron. Begraven in Muiden General Cemetery, Holland, graf 80. Next of kin: J. Crawford in Selma, Taynuilt, Argyll, Scotland.',
                keywords: 'crawford, 634710, 77 squadron, muiden, scotland, taynuilt, argyll'
            },
            {
                id: 19,
                type: 'letter',
                title: 'Burial Location Notification - Crawford',
                date: '30 april 1946',
                from: 'Air Ministry',
                to: 'Mr. Crawford',
                reference: 'P.403627/43/P4/MR (2)',
                location: '73-77 Oxford Street, London',
                summary: 'Brief aan vader van Crawford waarin wordt meegedeeld dat zijn zoon Sergeant I.D. Crawford begraven ligt in graf nr. 80, rij 1, in General Cemetery Muiden. Regelingen worden getroffen voor correcte inscriptie.',
                keywords: 'crawford, burial location, muiden cemetery, graf 80, oxford street'
            },
            {
                id: 20,
                type: 'record',
                title: 'Detailed Burial Investigation Report',
                date: 'Mei 1943',
                summary: 'Uitgebreid onderzoeksrapport over de crash en begrafenis. Vermeldt dat Mrs. van Rees uit Amsterdam hielp bij identificatie. Lichamen gevonden door burgemeester en politie. Alle lichamen begraven in Muiden op 1-2 mei 1943. Detaillocaties van graven 80-85.',
                keywords: 'crash investigation, mrs van rees, amsterdam, burgemeester, politie, mei 1943, graven 80-85'
            },
            {
                id: 21,
                type: 'record',
                title: 'German POW Record - Crawford',
                date: '8 mei 1943',
                summary: 'Duitse krijgsgevangenendocumenten voor Crawford, inclusief lijst van persoonlijke bezittingen. Stempel "LUFTGAUKOMMANDO HOLLAND" gedateerd 8 MEI 1943. Vergelijkbaar met andere POW records.',
                keywords: 'duitse document, crawford, luftgaukommando, persoonlijke bezittingen, 8 mei 1943'
            },
            {
                id: 22,
                type: 'form',
                title: 'German Prison Record - Crawford',
                date: '1 mei 1943',
                prisoner: 'Crawford (I. Liebersbridwell Flugzeugf.)',
                camp: 'Gefangenenlager',
                nationality: 'England',
                unit: 'Maschine Halifax',
                summary: 'Duits gevangenenkamp formulier voor Crawford, nationaliteit Engels, vliegtuigtype Halifax. Gevangen op 1 mei 1943.',
                keywords: 'crawford, gevangenenkamp, halifax, engels, 1 mei 1943'
            },
            {
                id: 23,
                type: 'letter',
                title: 'Casualty Notification - Crawford',
                date: '22 mei 1944',
                from: 'S.W. Wright, Director of Personal Services',
                to: 'J. Crawford Esq.',
                location: 'Selma, Taynuilt, Argyll, Scotland',
                summary: 'Offici√´le brief aan vader in Schotland waarin wordt meegedeeld dat Sergeant I.D. Crawford begraven ligt in General Cemetery Muiden, Holland. Graven genummerd 80-85 in rij 1.',
                keywords: 'casualty notification, scotland, taynuilt, argyll, muiden cemetery, graven 80-85'
            },
            {
                id: 24,
                type: 'letter',
                title: 'Correspondence from John W. Stewart',
                date: '3 maart 1944',
                from: 'John W. Stewart, Solicitor Glasgow',
                to: 'Air Ministry London',
                location: '121 Bath Street, Glasgow',
                summary: 'Brief van advocaat uit Glasgow die dankzegt voor informatie over Crawford en meldt dat kopie is doorgestuurd aan Mrs. Crawford.',
                keywords: 'john stewart, solicitor, glasgow, bath street, mrs crawford'
            },
            {
                id: 25,
                type: 'letter',
                title: 'Estate Duty Acknowledgment',
                date: '3 maart 1944',
                from: 'John W. Stewart',
                to: 'Air Ministry',
                reference: 'A.630471',
                summary: 'Bevestiging van advocaat betreffende Estate Duty remissie voor de overleden luchtman Sergeant I.D. Crawford.',
                keywords: 'estate duty, john stewart, crawford deceased, a630471'
            },
            {
                id: 26,
                type: 'letter',
                title: 'Burial Details Request',
                date: '26 februari 1944',
                from: 'Air Ministry',
                to: 'John W. Stewart',
                reference: 'P.403627/2/P.4.B.7',
                summary: 'Brief waarin wordt meegedeeld dat geen details bekend zijn over de begraafplaats van Sergeant Ian D. Crawford. Belofte om te informeren zodra meer informatie beschikbaar komt.',
                keywords: 'burial details, no information, john stewart, crawford'
            },
            {
                id: 27,
                type: 'letter',
                title: 'Inquiry about Burial Place',
                date: '7 februari 1944',
                from: 'John W. Stewart',
                to: 'Air Ministry',
                location: '121 Bath Street, Glasgow',
                summary: 'Verzoek van advocaat namens Mrs. Crawford (Taynuilt) om informatie over de begraafplaats van haar zoon Sergeant Ian D. Crawford die omkwam in Duitsland op 30 april/1 mei.',
                keywords: 'burial inquiry, mrs crawford taynuilt, germany, 30 april 1 mei'
            },
            {
                id: 28,
                type: 'letter',
                title: 'Death Confirmation - Crawford',
                date: '1 oktober 1943',
                from: 'Air Ministry',
                to: 'J. Crawford Esq.',
                reference: 'P.403627/2/43/S.4.D.8',
                location: 'Selma, Taynuilt, Argyll, Scotland',
                summary: 'Bevestiging van offici√´le Duitse bron dat Sergeant I.D. Crawford (634710) is overleden. Begraafplaats details nog niet bekend maar zullen worden meegedeeld.',
                keywords: 'death confirmation, german source, 634710, taynuilt scotland'
            },
            {
                id: 29,
                type: 'telegram',
                title: 'Missing Believed Killed - Crawford',
                date: '18 juni 1943',
                to: 'J CRAWFORD ESQ, SELMA, TAYNUILT ARGYLL SCOTLAND',
                from: 'Air Ministry Kingsway',
                summary: 'Telegram aan foster son in Schotland met mededeling dat Sergeant Ian Douglas Crawford vermist wordt en vermoedelijk omgekomen op 1/5/43 tijdens luchtoperaties.',
                keywords: 'telegram, missing believed killed, foster son, scotland, 1/5/43'
            },
            {
                id: 30,
                type: 'letter',
                title: 'RAF Benevolent Fund Inquiry',
                date: '17 mei 1943',
                from: 'RAF Benevolent Fund',
                to: 'Air Ministry',
                location: 'Eaton House, 14 Eaton Road, Hove Sussex',
                reference: 'MJ/AMS 121/123',
                summary: 'Verzoek van RAF Benevolent Fund om meer recente adressen van next-of-kin voor Sergeant Crawford I.D. (634710) en andere bemanningsleden.',
                keywords: 'raf benevolent fund, next of kin addresses, 634710, hove sussex'
            },
            {
                id: 31,
                type: 'letter',
                title: 'Personal Letter from Foster Father',
                date: '4 april 1943',
                from: 'John Crawford',
                to: 'Air Ministry Casualty Branch',
                location: 'Selma, Taynuilt, Argyll, Scotland',
                reference: 'P.403627/2/43/P.4.A.2',
                summary: 'Persoonlijke brief van foster father waarin hij bedankt voor brief van 28 juli betreffende zijn missing son 634710 H.M. Sgt Ian Douglas Crawford. Vraagt om zorgvuldige administratie.',
                keywords: 'foster father, john crawford, personal letter, missing son, careful records'
            },
            {
                id: 32,
                type: 'letter',
                title: 'Air Council Regret - Crawford',
                date: '28 mei 1943',
                from: 'Air Council',
                to: 'J. Crawford Esq.',
                location: 'Selma, Saynuilt, Argyll, Scotland',
                summary: 'Brief waarin Air Council spijt uitdrukt dat Sergeant Ian Douglas Crawford vermist wordt na luchtoperaties op 30 april/1 mei 1943. Halifax aircraft kwam niet terug van actie tegen vijand.',
                keywords: 'air council regret, missing, halifax aircraft, 30 april 1 mei, enemy action'
            },
            {
                id: 33,
                type: 'record',
                title: 'Analysis Report - Crawford',
                date: '1 mei 1943',
                aircraft: 'Halifax JB 803',
                reference: 'P.403627/3',
                summary: 'Identiek analyseformulier als voor anderen: Halifax JB 803 vertrok 30 april/1 mei 1943 voor operationele sortie, niets meer gehoord na vertrek, alle opvarenden vermist.',
                keywords: 'analysis report, halifax JB 803, operational sortie, all missing, 30 april'
            },
            {
                id: 34,
                type: 'telegram',
                title: 'Service Details - Crawford',
                date: '3 mei 1943',
                from: 'Records Gloucester',
                to: 'Air Ministry',
                details: 'CRAWFORD (B) IAN DOUGLAS, 634710, SGT, F/ENG, 15/FEB 39, 26/JULY/21, GLASGOW-DENNISTON, 77 SQDN, RAF, FOSTER FATHER J CRAWFORD ESQ SELMA SAYMILL ARGYLE SCOTLAND',
                summary: 'Telegram met volledige persoonlijke details Crawford: geboren 26 juli 1921, dienst vanaf 15 februari 1939, Flight Engineer, 77 Squadron, foster father in Schotland.',
                keywords: 'service details, 26 july 1921, 15 february 1939, flight engineer, foster father'
            },
            // SCARFF DOCUMENTS
            {
                id: 35,
                type: 'form',
                title: 'Casualty Action Sheet - Scarff',
                date: 'Meerdere data 1943',
                reference: '503631',
                summary: 'Casualty action sheet voor Sergeant Scarff. Toont administratieve stappen van vermist rapport tot bevestiging overlijden. Vermeldt "Signal 16 Others" en verschillende data in 1943.',
                keywords: 'casualty action sheet, scarff, signal 16 others, administratie'
            },
            {
                id: 36,
                type: 'record',
                title: 'International Red Cross Death List - Scarff',
                date: '1943',
                reference: '403627/43',
                summary: 'Translated extract van offici√´le Duitse lijsten door International Red Cross. Toont bemanningsleden: Crawford, Parsons, Shepherd, Hannam, Watson, en Crew of Halifax shot down 1/5/43.',
                keywords: 'international red cross, death list, translated extract, halifax shot down'
            },
            {
                id: 37,
                type: 'telegram',
                title: 'German Information Telegram - Scarff',
                date: '4 mei 1943',
                to: 'R.C.A.F. OTTAWA R.C.A.',
                reference: '4037 4/MAY',
                summary: 'Cypher telegram citeerd Duitse informatie over 1/MAY CAN/R.95040 SGT. SCARFF T. DEAD. Vermeldt "KAINDT" en "CASUALTIES OFFICER".',
                keywords: 'german information, scarff dead, cypher telegram, kaindt, casualties officer'
            },
            {
                id: 38,
                type: 'letter',
                title: 'RCAF Missing Notification - Scarff',
                date: '26 mei 1943',
                from: 'Casualty Branch',
                to: 'E. Scarff Esq.',
                location: '335 Inglewood Street, St. James',
                summary: 'Brief aan vader in Canada waarin wordt meegedeeld dat Sergeant Thomas Duff Scarff vermist wordt na luchtoperaties op 30 april/1 mei 1943. Hoop uitgesproken op gunstig nieuws.',
                keywords: 'rcaf missing, thomas duff scarff, st james, inglewood street, 30 april 1 mei'
            },
            {
                id: 39,
                type: 'telegram',
                title: 'RCAF Service Details - Scarff',
                date: '3 mei 1943',
                from: 'Records Gloucester',
                details: 'SCARFF (E) A/G CLD FATHER E. SCARFF ESQ. 335 INGLEWOOD STREET ST JAMES WINNIPEG MAN. CANADA = 041700B',
                summary: 'Telegram met service details: Scarff (E) Air Gunner, vader E. Scarff in St James Winnipeg Manitoba Canada. Service nummer details.',
                keywords: 'service details, air gunner, winnipeg manitoba, father e scarff'
            },
            {
                id: 40,
                type: 'telegram',
                title: 'Missing Notification to Canada - Scarff',
                date: '3 mei 1943',
                to: 'R.C.A.F. 3 MAY',
                summary: 'Telegram naar RCAF Canada betreffende amendment van eerdere berichten over SCARFF (B) THOMAS DUFF, service nummer R95040 CHRIST BRETH, 77 Squadron.',
                keywords: 'rcaf canada, thomas duff, r95040, 77 squadron, christ breth'
            },
            {
                id: 41,
                type: 'record',
                title: 'Analysis Report - Scarff',
                date: '1 mei 1943',
                aircraft: 'Halifax JB 803',
                reference: 'P.403627/1',
                summary: 'Identiek analyseformulier: Halifax JB 803 vertrok 30 april/1 mei 1943 voor operationele sortie, niets meer gehoord na vertrek, alle opvarenden vermist.',
                keywords: 'analysis report, halifax JB 803, operational sortie, all missing'
            },
            {
                id: 42,
                type: 'record',
                title: 'Official Burial Information Note',
                date: '24 maart 1944',
                reference: 'P403627/43',
                summary: 'Notitie waarin staat: "According to Official information, all this crew except Sgt Louth were buried in the General Cemetery MUIDEN, Holland. Rows 1. Single graves 80/85 R&P 2673. We are making enquiries to obtain their individual grave numbers."',
                keywords: 'official burial information, muiden cemetery, graves 80-85, individual grave numbers, except sgt louth'
            },
            {
                id: 43,
                type: 'record',
                title: 'Death Presumption Document',
                date: '20 september 1943',
                summary: 'Offici√´le D.P.S. notitie waarin staat dat Halifax aircraft J.B.803 met crew van zeven vertrok op 30 april/1 mei 1943 voor operationele vlucht maar niet terugkeerde. Alle bemanningsleden presumed dead op 1 mei 1943.',
                keywords: 'death presumption, crew of seven, halifax JB 803, presumed dead 1 may 1943'
            },
            {
                id: 44,
                type: 'record',
                title: 'International Red Cross Death List (Duplicate)',
                date: '1943',
                reference: '403627/43',
                summary: 'Tweede exemplaar van translated extract from Official Death Lists. Identieke informatie over bemanningsleden Halifax shot down 1/5/43.',
                keywords: 'red cross death list, duplicate, halifax shot down, 1/5/43'
            },
            {
                id: 45,
                type: 'telegram',
                title: 'Missing Crew Telegram - Multiple Names',
                date: 'Juni 1943',
                to: 'HG GROUP (R) 77 SQDN',
                summary: 'Telegram vermeldt multiple crew members including SCARFF, HANNAM, WATSON, SHEPHERD en anderen. Lijkt deel uit te maken van Missing/Believed Killed notificaties.',
                keywords: 'missing crew telegram, multiple names, 77 squadron, believed killed'
            },
            {
                id: 46,
                type: 'record',
                title: 'Missing Memorandum 2452',
                date: '16 juni 1943',
                reference: 'P.4 Cas.',
                summary: 'Uitgebreid missing memorandum dat R.95040 Sgt T.D. SCARFF vermeldt als Missing 30/4/1/5/43, Missing believed killed in action. Ook andere crew members listed.',
                keywords: 'missing memorandum, r95040, t.d. scarff, missing believed killed, 30/4/1/5/43'
            },
            {
                id: 47,
                type: 'telegram',
                title: 'Group Missing Notification',
                date: 'Mei 1943',
                to: '49 4 GROUP',
                summary: 'Telegram aan Group level met notificatie over SCARFF en andere missing crew members. Deel van offici√´le Missing in Action procedure.',
                keywords: '49 4 group, missing notification, scarff, official procedure'
            },
            {
                id: 48,
                type: 'record',
                title: 'Missing Memorandum 2365',
                date: '27 mei 1943',
                reference: 'P.4 Cas',
                summary: 'Eerder missing memorandum dat F/O A.E. PARSONS vermeldt als Missing 30/4/1/5/43 M.B.K. in Action. Onderdeel van dezelfde Halifax JB 803 incident.',
                keywords: 'missing memorandum 2365, f/o parsons, halifax jb 803, mbk in action'
            },
            {
                id: 49,
                type: 'letter',
                title: 'Complete Crew List - Halifax JB 803',
                date: '1 mei 1943',
                from: 'No.77 Squadron RAF',
                location: 'Elvington, Near York',
                reference: '778/409/7/1.1',
                summary: 'Volledige crew lijst Halifax II JB.803: Sgt Watson (Pilot-Captain), Sgt Crawford (Flight Engineer), F/O A.E. Parsons (Navigator), Sgt Hannam (Navigator B/Air Bomber), Sgt Louth (WO/AG), Sgt Shepherd (Air Gunner), Sgt Scarff (Air Gunner).',
                keywords: 'complete crew list, halifax II JB 803, seven crew members, elvington, 77 squadron'
            },
            {
                id: 50,
                type: 'telegram',
                title: 'Flying Battle Operational Details',
                date: '2 mei 1943',
                summary: 'Cypher telegram met details over Flying Battle Halifax Type 2, 77 Squadron, missing over enemy area 30/APR/1/MAY/43. Vermeldt bomb load details en missing status.',
                keywords: 'flying battle, operational details, bomb load, enemy area, 30 apr 1 may'
            },
            {
                id: 51,
                type: 'photo',
                title: 'Canadian Memorial Display',
                date: 'Post-war',
                summary: 'Ingelijste herdenkingsdisplay met foto van Canadese luchtman, medailles (Air Crew Europe Star, Defence Medal, War Medal 1939-1945), en "CANADA" embleem. Mogelijk memoriaal voor Sgt Scarff.',
                keywords: 'canadian memorial, medals display, air crew europe star, defence medal, war medal'
            },
            {
                id: 52,
                type: 'letter',
                title: 'Canadian Medal Presentation',
                date: 'Na 1945',
                from: 'Minister of National Defence Canada',
                summary: 'Offici√´le brief van Canadese Minister van Nationale Defensie waarin medailles worden toegezonden die verdiend waren door R-95040 F/S Thomas D. SCARFF tijdens World War 1939-1945. Uitdrukking van medeleven aan familie.',
                keywords: 'canadian medal presentation, minister national defence, r-95040, thomas d scarff, world war medals'
            }
        ];

        let filteredDocuments = [...documents];
        let currentFilter = 'all';

        function renderDocuments() {
            const grid = document.getElementById('documentsGrid');
            grid.innerHTML = '';

            if (filteredDocuments.length === 0) {
                grid.innerHTML = '<p style="text-align: center; padding: 50px; color: #7f8c8d; font-size: 1.2em;">Geen documenten gevonden voor deze zoekopdracht.</p>';
                return;
            }

            filteredDocuments.forEach(doc => {
                const card = document.createElement('div');
                card.className = `document-card ${doc.type}`;
                card.onclick = () => showDocumentDetails(doc);
                
                const typeIcon = {
                    'letter': '‚úâÔ∏è',
                    'telegram': 'üìü',
                    'form': 'üìã',
                    'photo': 'üì∑',
                    'record': 'üìÅ'
                };

                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-title">${typeIcon[doc.type]} ${doc.title}</div>
                        <div class="card-date">${doc.date}</div>
                    </div>
                    <div class="card-body">
                        <div class="card-details">
                            ${doc.from ? `<div class="detail-row"><span class="detail-label">Van:</span><span class="detail-value">${doc.from}</span></div>` : ''}
                            ${doc.to ? `<div class="detail-row"><span class="detail-label">Aan:</span><span class="detail-value">${doc.to}</span></div>` : ''}
                            ${doc.location ? `<div class="detail-row"><span class="detail-label">Locatie:</span><span class="detail-value">${doc.location}</span></div>` : ''}
                            ${doc.reference ? `<div class="detail-row"><span class="detail-label">Referentie:</span><span class="detail-value">${doc.reference}</span></div>` : ''}
                        </div>
                        <div class="card-summary">${doc.summary}</div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function showDocumentDetails(doc) {
            const modal = document.getElementById('documentModal');
            const content = document.getElementById('modalContent');
            
            const typeIcon = {
                'letter': '‚úâÔ∏è',
                'telegram': 'üìü',
                'form': 'üìã',
                'photo': 'üì∑',
                'record': 'üìÅ'
            };

            content.innerHTML = `
                <h2>${typeIcon[doc.type]} ${doc.title}</h2>
                <p style="color: #7f8c8d; margin-bottom: 20px;"><strong>Datum:</strong> ${doc.date}</p>
                
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    ${doc.from ? `<p><strong>Van:</strong> ${doc.from}</p>` : ''}
                    ${doc.to ? `<p><strong>Aan:</strong> ${doc.to}</p>` : ''}
                    ${doc.location ? `<p><strong>Locatie:</strong> ${doc.location}</p>` : ''}
                    ${doc.reference ? `<p><strong>Referentie:</strong> ${doc.reference}</p>` : ''}
                    ${doc.servicenumber ? `<p><strong>Service Nr:</strong> ${doc.servicenumber}</p>` : ''}
                </div>
                
                <div style="background: #e8f6ff; padding: 15px; border-radius: 8px; border-left: 4px solid #3498db;">
                    <h3>Samenvatting:</h3>
                    <p style="margin-top: 10px; line-height: 1.5;">${doc.summary}</p>
                </div>
                
                <div style="margin-top: 15px;">
                    <p style="font-size: 0.9em; color: #7f8c8d;"><strong>Trefwoorden:</strong> ${doc.keywords}</p>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('documentModal').style.display = 'none';
        }

        function filterDocuments(type) {
            currentFilter = type;
            if (type === 'all') {
                filteredDocuments = [...documents];
            } else {
                filteredDocuments = documents.filter(doc => doc.type === type);
            }
            applySearch();
            renderDocuments();
        }

        function applySearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm === '') {
                if (currentFilter === 'all') {
                    filteredDocuments = [...documents];
                } else {
                    filteredDocuments = documents.filter(doc => doc.type === currentFilter);
                }
            } else {
                let baseDocuments = currentFilter === 'all' ? documents : documents.filter(doc => doc.type === currentFilter);
                filteredDocuments = baseDocuments.filter(doc => 
                    doc.title.toLowerCase().includes(searchTerm) ||
                    doc.summary.toLowerCase().includes(searchTerm) ||
                    doc.keywords.toLowerCase().includes(searchTerm) ||
                    (doc.from && doc.from.toLowerCase().includes(searchTerm)) ||
                    (doc.to && doc.to.toLowerCase().includes(searchTerm)) ||
                    (doc.location && doc.location.toLowerCase().includes(searchTerm)) ||
                    doc.date.toLowerCase().includes(searchTerm)
                );
            }
        }

        function exportToCSV() {
            const headers = ['ID', 'Type', 'Titel', 'Datum', 'Van', 'Aan', 'Locatie', 'Referentie', 'Samenvatting', 'Trefwoorden'];
            let csv = headers.join(',') + '\n';
            
            documents.forEach(doc => {
                const row = [
                    doc.id,
                    doc.type,
                    `"${doc.title}"`,
                    `"${doc.date}"`,
                    `"${doc.from || ''}"`,
                    `"${doc.to || ''}"`,
                    `"${doc.location || ''}"`,
                    `"${doc.reference || ''}"`,
                    `"${doc.summary}"`,
                    `"${doc.keywords}"`
                ];
                csv += row.join(',') + '\n';
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', 'halifax_jb803_database.csv');
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            renderDocuments();
            
            document.getElementById('searchInput').addEventListener('input', function() {
                applySearch();
                renderDocuments();
            });

            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    filterDocuments(this.dataset.filter);
                });
            });

            // Modal close when clicking outside
            window.onclick = function(event) {
                const modal = document.getElementById('documentModal');
                if (event.target == modal) {
                    closeModal();
                }
            };
        });
    </script>
</body>
</html>